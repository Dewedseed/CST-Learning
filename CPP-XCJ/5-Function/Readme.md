# Function Program

面向函数编程

## Concept

**函数**：将一个 *语句* 关联到一个 *名字* 和 *形参* 的 C++ *实体*

- 函数体：function body
- 函数名：cpp 中可以有相同名称/重载
- 形参：function parameter, 不产生内存，当传递实参时产生内存空间
- 实体：程序运行初期，先将所有全局变量和函数加载到内存，因此函数占用内存

### Declear & Define & Call

声明：`返回类型 函数名称(形参);`
定义：`返回类型 函数名称(形参) {函数体}`
  - 如果有声明，默认参数只能在声明中定义
调用：`auto 返回值 = 函数名称(实参)`，调用使用的是函数指针

### Stack & Heap

栈区：入栈申请内存，出栈释放内存

- 形参
- 结构体

堆区: 需要手动释放内存

- 指针

### Vairable

- 全局变量 (**不应使用**)
  - 进入main函数前申请空间
- 静态全局变量
  - 作用域仅在当前文件
- 局部变量
  - 栈区
- 静态局部变量
  - 作用域仅限当前函数
  - 生命周期，第一次运行时申请
  - C++11 之前线程不安全，之后安全

### Overload

重载函数
- 函数名相同，参数类型或数量不同
- 编译器会根据参数类型修改函数名
- 返回值无法重载

## Parameter

- 栈区参数
- 堆区参数
  - 引用
  - 指针
- 变参 (模板/Lambda)
- 无参数

### Pointer & Reference

- 类型
  - 指针
  - 引用/别名
    - 开销与指针一致
- 注意
  - 函数内不做修改
    - 添加 `const` 关键字
- 用途
  - 减少复制
  - 返回多个值
  - 返回内部空间
    - 提高效率，需要进行修改，创建新对象
    - 返回栈区变量会出错
- 其他
  - 整数默认四字节，指针默认八字节

### Array

原生数组
- 默认
  - 数组经过函数传参变为指针，无法获取大小
  - 返回数组需要使用指针，需要注意生命周期
- 引用
  - 可使用引用传参，但必须确定大小
  - 返回使用引用，需要使用别名

### Vector

可变数组
- 默认
  - 输入：复制
  - 返回：编译器优化，栈区内创建 Vector 不复制，直接返回
  - move：不复制直接传入，但是原 Vector 销毁
- 引用
  - 输入：不复制
  - 返回：返回引用对象会复制
